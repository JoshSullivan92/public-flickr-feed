<!DOCTYPE html>
<html>
<meta charset="UTF-8">

<head>
    <link rel="stylesheet" type="text/css" href="style.css">
    <title>
        Josh Sullivan Flickr Test
    </title>
</head>

<body onload="runFunctions()">
    <h1>
        Flickr Public Feed
    </h1>
    <div>
        <table id="myTable">
            <tr>
                <td id=column1>
                    PhotoCol
                </td>
                <td id=column2>
                    Description Test
                </td>
            </tr>
        </table>
    </div>

</body>
<script language="javascript" type="text/javascript">
    //Functions to run on load of the HTML.
    function runFunctions() {
        getJSON();
        insertRows();
    }

    //Get the JSON object from the URL provided.
    function getJSON() {
        fetch('https://api.flickr.com/services/feeds/photos_public.gne', { mode: 'no-cors' }) // Call the fetch function passing the url of the API as a parameter
            .then(function (response) {
                response.text()
                    .then(function (data) {
                        //alert(data), here I would expect to be able to use 
                        //data from the URL to populate my table above.
                    })
            })
    }

    //Url provided hold 20 pictures. This creates 20 rows in the HTML table above.
    function insertRows() {
        for (i = 1; i < 20; i++) {
            var table = document.getElementById("myTable");
            var row = table.insertRow(i);
            var cellA = row.insertCell();
            var cellB = row.insertCell();
            cellA.setAttribute("id", "column1", 0);
            cellB.setAttribute("id", "column2", 0);
            cellA.innerHTML = "PhotoCol " + (i + 1);
            cellB.innerHTML = "Description Test " + (i + 1);
        }
    }
</script>

</html>